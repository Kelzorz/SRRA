import matplotlib
import matplotlib.pyplot as plt


class Graph:
    def __init__(self, list_of_apms):
        self.list_of_apms = list_of_apms

    @staticmethod
    def filter_list_of_apms(list_of_apms):
        filtered_data = []
        for apm in list_of_apms:
            if apm != 0 and apm < 600:  # no bonjwas here
                filtered_data.append(apm)
        return filtered_data

    def generate_apm_graph(self):
        filtered_data = Graph.filter_list_of_apms(self.list_of_apms)
        plt.style.use('seaborn-dark')
        fig, ax = plt.subplots()
        ax.patch.set_edgecolor('black')
        ax.patch.set_linewidth('1')
        ax.set_title("APM/Match", fontsize=24)
        ax.set_ylabel("APM", fontsize=14)
        ax.set_facecolor('#d3ffff')
        ax.plot(filtered_data, '#000000')
        plt.savefig('graph.png')
